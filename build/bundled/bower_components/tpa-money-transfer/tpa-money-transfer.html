<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-icons/iron-icons.html"><link rel="import" href="../iron-list/iron-list.html"><link rel="import" href="../iron-ajax/iron-ajax.html"><link rel="import" href="../iron-flex-layout/iron-flex-layout.html"><link rel="import" href="../tpa-font/tpa-font.html"><link rel="import" href="../tpa-icons/tpa-icons.html"><link rel="import" href="../tpa-styles/tpa-styles.html"><link rel="import" href="../paper-button/paper-button.html"><link rel="import" href="../paper-icon-button/paper-icon-button.html"><link rel="import" href="../paper-input/paper-input.html"><link rel="import" href="../paper-dialog/paper-dialog.html"><link rel="import" href="../paper-dialog-scrollable/paper-dialog-scrollable.html"><link rel="import" href="../neon-animation/neon-animation.html"><link rel="import" href="../iron-signals/iron-signals.html"><link rel="import" href="../paper-dialog-behavior/paper-dialog-shared-styles.html"><link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html"></head><body><dom-module id="tpa-money-transfer"><style>div.head{width:60%;float:left;}div [secondary]{color:var(--ing-orange-300);}div.amount{text-align:right;font-weight:bold;font-size:1.1rem;}paper-dialog.addressList{width:80%;display:block;}.addressContent{width:200px;margin:8px;}@media (max-width: 800px){.addressContainer{width:34%;}}@media (max-width: 400px){.addressContainer{width:100%;}}</style><template><iron-signals on-iron-signal-i18n="onI18Signal"></iron-signals><div class="card-content"><div class="head"><div>{{accountOwner}}</div><div secondary="">{{accountNumber}}</div></div><div class="amount">{{accountBalanceObj.wholeNumber}}{{decimalSeparator}}<sup>{{accountBalanceObj.decimals}}</sup></div><paper-input class="large" label="{{localize('amount')}}" type="number"><div prefix="">€</div></paper-input><paper-input label="{{localize('recipient')}}"><div suffix=""><paper-icon-button icon="tpa:addressbook-empty" class="secondary" onclick="dialog.toggle()"></paper-icon-button></div></paper-input><paper-input label="{{localize('accountNumber')}}"><div suffix=""><paper-icon-button icon="tpa:plus" class="primary"></paper-icon-button></div></paper-input><paper-input label="{{localize('usage')}}"></paper-input><paper-input label="{{localize('executionDate')}}"></paper-input></div><div class="card-actions"><paper-button raised="" class="primary">{{localize('submit')}}</paper-button></div><iron-ajax id="ajax" loading="{{loadingAddresses}}" url="data.json" handle-as="json" on-response="_onAddressBookData" auto=""></iron-ajax><paper-dialog id="dialog" class="addressList" title="Adress Book" entry-animation="fade-in-animation" exit-animation="fade-out-animation" on-iron-overlay-opened="refit"><paper-dialog-scrollable><iron-list items="{{addresses}}" as="address" _scroll-target="document" grid=""><template><div class="addressContainer"><div class="addressContent" tabindex$="[[tabIndex]]">{{address.firstname}}&nbsp;{{address.lastname}}<br>{{address.account}}<br>{{address.institute}}</div></div></template></iron-list></paper-dialog-scrollable><div class="buttons"><paper-button class="secondary" dialog-dismiss="">Cancel</paper-button><paper-button class="primary" dialog-confirm="" autofocus="">Discard</paper-button></div></paper-dialog></template></dom-module><script>!function(){"use strict";var e=function(e,a,t,n,r){var u="\\d(?=(\\d{"+(t||3)+"})+"+(a>0?"\\D":"$")+")",c=e.toFixed(Math.max(0,~~a));return(r?c.replace(".",r):c).replace(new RegExp(u,"g"),"$&"+(n||","))};Polymer({is:"tpa-money-transfer",behaviors:[],properties:{accountOwner:{type:String},accountNumber:{type:String},accountBalance:{type:Number,observer:"_accountBalanceChange"},accountBalanceObj:{type:Object},decimalSeparator:{type:String,value:",",observer:"_accountBalanceChange"},thousendsSeparator:{type:String,value:".",observer:"_accountBalanceChange"},loadingAddresses:Boolean,addresses:Array,language:{type:String,value:"en-au"},resources:{type:Object,value:function(){return{"en-au":{recipient:"Recipient",accountNumber:"Account number",usage:"Usage",executionDate:"Execution date",submit:"Submit",amount:"Amount"},"de-de":{recipient:"Empfänger",accountNumber:"Kontonummer",usage:"Verwendungszweck",executionDate:"Ausführungsdatum",submit:"Ausführen",amount:"Betrag"}}}},localize:{type:Function,computed:"__computeLocalize(language, resources)"}},_accountBalanceChange:function(a){var t,n=this,r=n.decimalSeparator,u=n.thousendsSeparator,c="number"!=typeof a?n.accountBalance:a;c&&(t=e(c,2,3,u,r).split(r),n.accountBalanceObj={wholeNumber:t[0],decimals:t[1]})},_onAddressBookData:function(e){this.addresses=e.detail.response},refit:function(){var e=this;setTimeout(function(){e.$.dialog.center()},10)},_build:"Posh Quail / Thu, 26 May 2016 11:09:02 GMT",onI18Signal:function(e,a,t){this.resources[a]&&(this.language=a)},__computeLocalize:function(e,a){Array.prototype.slice.call(arguments);return function(t){return a[e]&&a[e][t]||""}}})}();</script></body></html>