<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-ajax/iron-ajax.html"></head><body><dom-module id="tpa-reactive-hub"><template><iron-ajax id="ajax" method="POST" url="/api/hub" handle-as="json" on-response="handleResponse" debounce-duration="300"></iron-ajax><content id="items"></content></template><script>Polymer({is:"tpa-reactive-hub",subjects:[],ready:function(){console.log("ready")},attached:function(){console.log("attached");var e=[],t=this.subjects,s=Polymer.dom(this.$.items).getDistributedNodes();s.forEach(function(s){s.children&&(s.intercept(),t.push(s._subject),e.push(s.querySelector("iron-ajax").toRequestOptions()))}),this.$.ajax.generateRequest()},handleResponse:function(e){console.log("handleResponse",e.detail.response);var t=this.subjects;e.detail.response.forEach(function(e,s){var o=t[s];o.onNext(e)})}});</script></dom-module></body></html>