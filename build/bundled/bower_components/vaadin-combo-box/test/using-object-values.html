<!DOCTYPE html><html><head><meta charset="UTF-8"><title>vaadin-combo basic tests</title><script src="../../web-component-tester/browser.js"></script><link rel="import" href="common.html"></head><body><test-fixture id="combobox"><template><vaadin-combo-box></vaadin-combo-box></template></test-fixture><script>describe("using object values",function(){function e(){return t.$.input.bindValue}var t;beforeEach(function(){t=fixture("combobox"),t.items=[{label:"foo",custom:"bazs",value:"bar"},{label:"baz",custom:"bashcsdfsa",value:"qux"}]}),it("should use the default label property on input field",function(){t.open(),t.$.overlay.$.selector.selectItem(0),expect(e()).to.eql("foo")}),it("should use the default label property in overlay items",function(e){t.open(),Polymer.Base.async(function(){expect(t.$.overlay.$.selector.querySelector(".item").textContent).to.contain("foo"),e()})}),it("should use the provided label property",function(){t.itemLabelPath="custom",t.value="bar",expect(e()).to.eql("bazs")}),it("should use the default value property",function(){t.open(),t.$.overlay.$.selector.selectItem(0),expect(t.value).to.eql("bar")}),it("should use the provided value property",function(){t.itemValuePath="custom",t.open(),t.$.overlay.$.selector.selectItem(1),expect(t.value).to.eql("bashcsdfsa")}),it("should use toString if provided label and value paths are not found",function(){t.itemValuePath="not.found",t.itemLabelPath="not.found",t.items[0].toString=function(){return"default"},t.$.overlay.$.selector.selectItem(0),expect(t.$.input.bindValue).to.eql("default"),expect(t.value).to.eql("default")}),it("should use toString if default label and value paths are not found",function(){t.items=[{},{}],t.items[0].toString=function(){return"default"},t.$.overlay.$.selector.selectItem(0),expect(t.$.input.bindValue).to.eql("default"),expect(t.value).to.eql("default")}),it("should set the selected item",function(){t.value="bar",expect(t.selectedItem).to.eql(t.items[0]),expect(t.$.input.bindValue).to.eql("foo")}),it("should set the value",function(){t.$.overlay.$.selector.selectItem(0),expect(t.$.input.bindValue).to.eql("foo"),expect(t.value).to.eql("bar")}),it("should set the input value from item label if item is found",function(){t.value="bar",expect(t.$.input.bindValue).to.eql("foo")}),describe("when custom values are not allowed",function(){beforeEach(function(){t.allowCustomValue=!1}),it("should clear the input value if item is not found",function(){t.value="bar",t.value="not found",expect(t.$.input.bindValue).to.empty})}),describe("when custom values are allowed",function(){beforeEach(function(){t.allowCustomValue=!0}),it("should set the value as bind value if item is not found",function(){t.value="not found",expect(t.$.input.bindValue).to.eql("not found")})})});</script></body></html>