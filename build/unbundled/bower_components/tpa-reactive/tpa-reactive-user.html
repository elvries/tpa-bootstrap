<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-ajax/iron-ajax.html"></head><body><dom-module id="tpa-reactive-user"><template><iron-ajax id="ajax" url="/api/user/me" handle-as="json" on-response="handleResponse" debounce-duration="300"></iron-ajax></template><script src="../rxjs/dist/rx.all.js"></script><script>!function(){var e=!1;Polymer({is:"tpa-reactive-user",_subject:new Rx.Subject,_response:null,intercept:function(){e=!0},ready:function(){console.log("ready")},attached:function(){console.log("attached",e),e||this.$.ajax.generateRequest()},subscribe:function(e){return console.log("subscribe",this._response),this._response&&e(this._response),this._subject.subscribe(e)},refresh:function(){console.log("refresh"),this.$.ajax.generateRequest()},handleResponse:function(e){console.log("handleResponse",e.detail.response),this._response=e.detail.response,this._subject.onNext(this._response)}})}();</script></dom-module></body></html>