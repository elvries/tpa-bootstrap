<link rel="import" href="../../bower_components/tpa-styles/tpa-styles.html">
<link rel="import" href="../../bower_components/tpa-money-transfer/tpa-money-transfer.html">

<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../bower_components/paper-fab-menu/paper-fab-menu.html">
<link rel="import" href="../../bower_components/paper-fab-menu/paper-fab-menu-item.html">
<link rel="import" href="../../bower_components/tpa-toast-action/tpa-toast-action.html">

<link rel="import" href="../../bower_components/tpa-reactive/tpa-reactive-user.html">

<link rel="import" href="../tpa-container/tpa-container.html">

<dom-module id="tpa-quick">
    <style>

        :host {
            position: fixed;
            bottom: 0;
            width: 100%;
        }

        paper-fab {
            position: absolute;
            bottom: 10px;
            right: -10px;
        }

        paper-fab-menu {
            position: absolute;
            bottom: 10px;
            right: -10px;
        }

        tpa-toast-action {
            position: absolute;
            bottom: 0px;
            right: 70px;
            height: 500px;
            width: 400px;
        }

        paper-dialog h2 {
            background-color: #0a3142;
            margin: 0;
        }

    </style>

    <template>

        <tpa-reactive-user id="reactiveUser"></tpa-reactive-user>

        <tpa-container class="quick">
            
            <tpa-toast-action id="toastAction">
                <tpa-money-transfer id="moneyTransfer"></tpa-money-transfer>
            </tpa-toast-action>

            <paper-fab icon="add" title="plus" on-tap="open"></paper-fab>

        </tpa-container>


        <paper-fab-menu icon="add" position="vertical">
            <paper-fab-menu-item label="Polymer" icon="polymer"></paper-fab-menu-item>
            <paper-fab-menu-item label="Favorites" icon="star"></paper-fab-menu-item>
            <paper-fab-menu-item label="Refresh" icon="refresh"></paper-fab-menu-item>
        </paper-fab-menu>
    </template>

    <script>
        Polymer({
            is: "tpa-quick",
            ready:function(){
                this.$.reactiveUser.subscribe(function(user){
                    this.$.moneyTransfer.accountOwner = user.name;
                    this.$.moneyTransfer.accountNumber = user.account;
                    this.$.moneyTransfer.accountBalance = 5300;
                }.bind(this))
            },
            open: function () {
                this.$.toastAction.opened = true;
            }
        })
    </script>
</dom-module>
